<script type="text/x-red" data-template-name="envisalink in">
    <div class="form-row">
        <label for="node-input-controller"><i class="fa fa-globe"></i> EnvisaLink</span></label>
        <input type="text" id="node-input-controller">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name">
    </div>
</script>

<script type="text/x-red" data-help-name="envisalink in">
    <p>Connects to a ademco alarm system through the EnvisaLink module and provide state updates.</p>
    <h3>Outputs</h3>
    <dl class="message-properties">
       <dt>payload <span class="property-type">object</span></dt>
       <dd>a javascript object containing <code>zone</code>/<code>partition</code>, the <code>code</code> and a human readable <code>status</code>.</dd>
       <dt>topic <span class="property-type">string</span></dt>
       <dd>Either <code>zone event</code>, <code>partition event</code>,  <code>cid event</code> or <code>status event</code>.</dd>
    </dl>
    <h3>Details</h3>
    <p>This node requires a connection to an EnvisaLink module to be configured. This is configured by clicking the pencil icon.</p>
    <p>Several EnvisaLink nodes (in or out) can share the same EnvisaLink connection.</p>
</script>

<script type="text/javascript">
    RED.nodes.registerType('envisalink in',{
      category: 'input',
      defaults: {
        name: {value:""},
        controller: {type:"envisalink-controller", required:true}
      },
      color:"#ff9933",
      inputs:0,
      outputs:1,
      icon: "bridge.png",
      label: function() {
        return this.name||"envisalink";
      },
      labelStyle: function() {
        return this.name?"node_label_italic":"";
      }
    });
</script>
